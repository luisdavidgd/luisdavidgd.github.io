<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Luda! - Welcome to my website!</title>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body x-data="bootstrap" x-init="console.log('[FUNCTION:bootstrap:x-init()]');">

  <nav
    class="font-sans flex flex-col text-center content-center sm:flex-row sm:text-left sm:justify-between py-2 px-6 bg-white shadow sm:items-baseline w-full">
    <div class="mb-2 sm:mb-0 inner">
      <a href="." class="text-2xl no-underline text-grey-darkest hover:text-blue-dark font-sans font-bold">Luda!</a><br>
      <span class="text-xs text-grey-dark">My personal website</span>
    </div>

    <div class="sm:mb-0 self-center">
      <div class="flex justify-around">

        <div class="flex" x-data="menu" x-init="console.log('[FUNCTION:menu:x-init()]');">
          <template x-for="item in menu" :key="item.id">
            <div x-id="['menu-item']">
              <input x-model="activeMenu" type="radio" :value="$id('menu-item')" :id="$id('menu-item')">
              <label :for="$id('menu-item')"><span x-text="item.name"></span></label>
            </div>
          </template>
        </div>

      </div>
    </div>
  </nav>

  <div x-show="activeMenu == 'menu-item-1'" x-transition>
    <div class="h-screen flex items-center justify-center">
      <div class="mx-auto text-center" x-data="home" x-init="(() => { 
                 
        let typingInterval = setInterval(startTyping, $data.typeSpeed);
     
     function startTyping(){
        let current = $data.textArray[ $data.textIndex ];
        if($data.charIndex > current.length){
             $data.direction = 'backward';
             clearInterval(typingInterval);
             setTimeout(function(){
                typingInterval = setInterval(startTyping, $data.typeSpeed);
             }, $data.pauseEnd);
        }   
           
        $data.text = current.substring(0, $data.charIndex);
        if($data.direction == 'forward'){
            $data.charIndex += 1;
         } else {
            if($data.charIndex == 0){
                $data.direction = 'forward';
                clearInterval(typingInterval);
                setTimeout(function(){
                
                    $data.textIndex += 1;
                    if($data.textIndex >= $data.textArray.length){
                        $data.textIndex = 0;
                    }
                
                    typingInterval = setInterval(startTyping, $data.typeSpeed);
                }, $data.pauseStart);
            }
            $data.charIndex -= 1;
         }
      
     }
                
     setInterval(function(){
        if($refs.cursor.classList.contains('hidden')){
            $refs.cursor.classList.remove('hidden');
        } else {
            $refs.cursor.classList.add('hidden');
        }
     }, $data.cursorSpeed);
 })()">
        <div class="relative h-auto">
          <h1 class="text-7xl font-black">I'm <span x-text="text"></span></h1>
          <span class="absolute right-0 top-0 h-full w-5 -mr-8 bg-black" x-ref="cursor">
        </div>
      </div>
    </div>
  </div>

  <div x-show="activeMenu == 'menu-item-2'" x-transition>
    <div class="mt-4 px-4 text-center">
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Earum eius quia, consectetur doloremque cum vel?
        Inventore labore ratione minima amet, dolores distinctio aspernatur quod sunt architecto vitae, molestias
        voluptatem deserunt?</p>
    </div>
  </div>

  <div x-show="activeMenu == 'menu-item-3'" x-transition>

    <div id="portfolio" class="sticky top-0 bg-white" x-data="portfolio"
      x-init="console.log('[FUNCTION:portfolio:x-init()]');">
      <div class="flex justify-center">
        <template x-for="item in portfolio" :key="item.id">
          <div x-id="['portfolio-item']">
            <input x-model="activePortfolio" type="radio" :value="$id('portfolio-item')"" :id=" $id('portfolio-item')">
            <label :for="$id('portfolio-item')"><i :class="item.class"></i></span> <span
                x-text="item.name"></span></label>
          </div>
        </template>
      </div>

      <div x-show="activePortfolio == 'portfolio-item-1'" x-transition>
        All
      </div>

      <div x-show="activePortfolio == 'portfolio-item-2'" x-transition>
        Design
      </div>

      <div x-show="activePortfolio == 'portfolio-item-3'" x-transition>
        <h2>Development</h2>

        <div id="app" x-data="todos()" x-init="console.log('[FUNCTION:todos:x-init()]');">
          <form @submit.prevent="addNewTask()">
            <input type="text" x-model="task" />
            <button type="submit">Add new task</button>
          </form>
          <template x-for="todo in todos" :key="todo.id">
            <li :class="{ 'is-complete': todo.isComplete === true }">
              <span x-text="todo.task"></span>
              <input type="checkbox" x-model="todo.isComplete" />
              <button @click="removeTask(todo.id)">Delete</button>
            </li>
          </template>
          </ul>
        </div>
      </div>

      <div x-show="activePortfolio == 'portfolio-item-4'">
        Print
      </div>
    </div>
  </div>

  <div x-show="activeMenu == 'menu-item-4'" x-transition>
    Contact form
  </div>

  <div x-show="activeMenu == 'menu-item-5'" x-transition>
    Posts from blogger
  </div>

  <footer id="terminal" class="fixed bottom-0 bg-white text-xs">
    <p>
      activeMenu: <code x-text="activeMenu"></code> |
      activePortfolio: <code x-text="activePortfolio"></code>
    </p>
  </footer>

  <script src="js/bootstrap.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/home.js"></script>
  <script src="js/portfolio.js"></script>
  <script src="js/todo.js"></script>
  <script src="js/script.js"></script>
</body>

</html>