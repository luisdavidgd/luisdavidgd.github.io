function removeHtmlTag(e,t){if(-1!=e.indexOf("<")){for(var n=e.split("<"),o=0;o<n.length;o++)-1!=n[o].indexOf(">")&&(n[o]=n[o].substring(n[o].indexOf(">")+1,n[o].length));e=n.join("")}for(t=t<e.length-1?t:e.length-2;" "!=e.charAt(t-1)&&-1!=e.indexOf(" ",t);)t++;return(e=e.substring(0,t-1))+"..."}function createSummaryAndThumb(e){var e=document.getElementById(e),t="",n=e.getElementsByTagName("img"),o=summary_noimg,n=(1<=n.length&&(t='<img src="'+n[0].src+'" class="pbtthumbimg"/>',o=summary_img),t+"<div>"+removeHtmlTag(e.innerHTML,o)+"</div>");e.innerHTML=n}document.addEventListener("DOMContentLoaded",function(){e=localStorage?.getItem("theme")??"";var e=["dark","light"].includes(e)?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",e=("light"===e?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),window.localStorage.setItem("theme",e),document.getElementById("themeToggle"));e&&e.addEventListener("click",()=>{var e=document.documentElement,e=(e.classList.toggle("dark"),e.classList.contains("dark"));localStorage.setItem("theme",e?"dark":"light")})}),document.addEventListener("DOMContentLoaded",function(){var t,n,o=document.querySelector(".main-navigationbwrap");o&&((t=document.createElement("div")).className="filter-drop-spacer",t.style.height=o.offsetHeight+"px",n=!1,window.addEventListener("scroll",function(){var e=o.getBoundingClientRect().top+window.scrollY;!n&&window.scrollY>e?(o.parentNode.insertBefore(t,o),o.classList.add("fix"),n=!0):n&&window.scrollY<t.getBoundingClientRect().top+window.scrollY&&(o.classList.remove("fix"),t.parentNode&&t.parentNode.removeChild(t),n=!1)}))}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("site-navigationbwrap"),t=document.getElementById("menuToggle"),n=e.getElementsByTagName("ul")[0];e&&t&&n&&(-1===n.className.indexOf("nav-menu")&&(n.className+=" nav-menu"),t.onclick=function(){e.classList.contains("toggled")?(e.classList.remove("toggled"),t.classList.remove("open")):(e.classList.add("toggled"),t.classList.add("open"))})});