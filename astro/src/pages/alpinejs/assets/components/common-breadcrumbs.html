<div x-data="breadcrumbs()" x-init="init()" class="text-sm text-gray-600 mb-4">
  <nav class="flex items-center gap-2">
    <template x-for="(crumb, index) in items" :key="index">
      <div class="flex items-center gap-2">
        <a :href="crumb.href" class="hover:underline" x-text="crumb.label"></a>
        <template x-if="index < items.length - 1">
          <span>/</span>
        </template>
      </div>
    </template>
  </nav>
</div>

<script>
  function breadcrumbs() {
    return {
      items: [],
      init() {
        const path = window.location.pathname.replace(/^\/|\/$/g, '');
        const segments = path.split('/');
        let accumulated = '';
        this.items = segments.map((seg, index) => {
          accumulated += `/${seg}`;
          return {
            label: this.format(seg),
            href: accumulated
          };
        });

        if (this.items.length === 0) {
          this.items = [{ label: 'Home', href: '/' }];
        } else {
          this.items.unshift({ label: 'Home', href: '/' });
        }
      },
      format(seg) {
        return seg.replace(/-/g, ' ')
          .replace(/\b\w/g, l => l.toUpperCase());
      }
    }
  }
</script>