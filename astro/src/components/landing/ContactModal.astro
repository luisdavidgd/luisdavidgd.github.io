---
const { onClose } = Astro.props;
---

<div id="contactModal" class="modal-backdrop">
  <div class="modal">
    <h3>Contact Me</h3>
    <form id="contactForm">
      <div class="field">
        <label for="name">Name</label>
        <input id="name" name="name" type="text" required />
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input id="email" name="email" type="email" required />
      </div>

      <div class="field">
        <label for="message">Message</label>
        <textarea id="message" name="message" rows="4" required></textarea>
      </div>

      <div class="actions">
        <button type="button" id="cancelBtn" class="cancel">Cancel</button>
        <button type="submit" class="send">Send</button>
      </div>
    </form>
  </div>
</div>

<style>
.modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 50;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.5);
}
.modal {
  background: white;
  border-radius: 0.5rem;
  padding: 1.5rem;
  width: 100%;
  max-width: 400px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.2);
}
.modal h3 {
  font-size: 1.25rem;
  margin-bottom: 1rem;
  font-weight: bold;
}
.field {
  margin-bottom: 1rem;
}
.field label {
  display: block;
  font-size: 0.875rem;
  margin-bottom: 0.25rem;
  color: #374151;
}
.field input,
.field textarea {
  width: 100%;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
  padding: 0.5rem;
}
.actions {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
}
.cancel {
  background: none;
  border: none;
  color: #6b7280;
  cursor: pointer;
}
.send {
  background: #3b82f6;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  border: none;
  cursor: pointer;
}
.send:hover {
  background: #2563eb;
}
</style>

<script is:client="load">
  const form = document.getElementById("contactForm");
  const cancelBtn = document.getElementById("cancelBtn");
  const modal = document.getElementById("contactModal");

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const data = Object.fromEntries(new FormData(form).entries());
    console.log("Sending message:", data);

    modal.remove(); // cerrar modal
  });

  cancelBtn.addEventListener("click", () => {
    modal.remove(); // cerrar modal
  });
</script>
